<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Tic Tac Toe | Building Mobile Game Solvers</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.6">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../Examples/find_the_difference.html" />
    
    
    <link rel="prev" href="../Examples/3d_bowling.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="5.1.2"
        data-chapter-title="Tic Tac Toe"
        data-filepath="Examples/tic-tac-toe2.md"
        data-basepath=".."
        data-revision="Fri Mar 11 2016 10:45:02 GMT+0530 (IST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="Preface/index.html">
            
                
                    <a href="../Preface/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Preface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Introduction/index.html">
            
                
                    <a href="../Introduction/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Introduction
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="Introduction/0-adb.html">
            
                
                    <a href="../Introduction/0-adb.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Setting up ADB tool
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Introduction/1-image.html">
            
                
                    <a href="../Introduction/1-image.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Using Image Processing
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Introduction/2-electronics.html">
            
                
                    <a href="../Introduction/2-electronics.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Using Electronics
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="Introduction/3-both.html">
            
                
                    <a href="../Introduction/3-both.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Using Image Processing and Electronics
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="ImageProcessing/index.html">
            
                
                    <a href="../ImageProcessing/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Image Processing
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="ImageProcessing/1-image.html">
            
                
                    <a href="../ImageProcessing/1-image.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        What is an Image
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="ImageProcessing/2-color.html">
            
                
                    <a href="../ImageProcessing/2-color.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Basics of Color
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="ImageProcessing/3-processing.html">
            
                
                    <a href="../ImageProcessing/3-processing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Image Processing Techniques
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="ImageProcessing/Matlab/1-basic.html">
            
                
                    <a href="../ImageProcessing/Matlab/1-basic.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.1.</b>
                        
                        Basic Commands
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="ImageProcessing/Matlab/2-thresholding.html">
            
                
                    <a href="../ImageProcessing/Matlab/2-thresholding.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.2.</b>
                        
                        Thresholding
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="ImageProcessing/Matlab/3-enhancement.html">
            
                
                    <a href="../ImageProcessing/Matlab/3-enhancement.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.3.</b>
                        
                        Enhancement
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.4" data-path="ImageProcessing/Matlab/4-properties.html">
            
                
                    <a href="../ImageProcessing/Matlab/4-properties.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.4.</b>
                        
                        Properties
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.5" data-path="ImageProcessing/Matlab/5-debugging.html">
            
                
                    <a href="../ImageProcessing/Matlab/5-debugging.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.5.</b>
                        
                        Debugging
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="Electronics/index.html">
            
                
                    <a href="../Electronics/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Electronics
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Electronics/1-basics.html">
            
                
                    <a href="../Electronics/1-basics.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Basic Electronics
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="Electronics/2-arduino.html">
            
                
                    <a href="../Electronics/2-arduino.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Arduino
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="Electronics/3-sensors.html">
            
                
                    <a href="../Electronics/3-sensors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Sensors
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="Electronics/4-simulation.html">
            
                
                    <a href="../Electronics/4-simulation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Simulation
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="Examples/index.html">
            
                
                    <a href="../Examples/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Example Games
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="Examples/1-image.html">
            
                
                    <a href="../Examples/1-image.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Using Image Processing
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="Examples/3d_bowling.html">
            
                
                    <a href="../Examples/3d_bowling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.1.</b>
                        
                        3D Bowling
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="5.1.2" data-path="Examples/tic-tac-toe2.html">
            
                
                    <a href="../Examples/tic-tac-toe2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.2.</b>
                        
                        Tic Tac Toe
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="Examples/find_the_difference.html">
            
                
                    <a href="../Examples/find_the_difference.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.3.</b>
                        
                        Find The Difference
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="Examples/flow_free.html">
            
                
                    <a href="../Examples/flow_free.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.4.</b>
                        
                        Flow free
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.1.5" data-path="Examples/unblockme.html">
            
                
                    <a href="../Examples/unblockme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.5.</b>
                        
                        Unblock Me
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="Examples/2-electronics.html">
            
                
                    <a href="../Examples/2-electronics.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Using Electronics
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.2.1" data-path="Examples/ready_steady_bang.html">
            
                
                    <a href="../Examples/ready_steady_bang.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.1.</b>
                        
                        Ready Steady Bang
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2.2" data-path="Examples/piano_tiles.html">
            
                
                    <a href="../Examples/piano_tiles.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.2.</b>
                        
                        Piano Tiles
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="Examples/3-both.html">
            
                
                    <a href="../Examples/3-both.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Using Image Processing and Electronics
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.3.1" data-path="Examples/stick_hero.html">
            
                
                    <a href="../Examples/stick_hero.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.1.</b>
                        
                        Stick Hero
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="Examples/all_others.html">
            
                
                    <a href="../Examples/all_others.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Other Games
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="Acknowledgements/index.html">
            
                
                    <a href="../Acknowledgements/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Acknowledgements
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="Acknowledgements/contributors.html">
            
                
                    <a href="../Acknowledgements/contributors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Contributors
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="contributing.html">
            
                
                    <a href="../contributing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Contributing
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Building Mobile Game Solvers</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h2 id="tic-tac-toe">Tic Tac Toe</h2>
<h3 id="game-description">Game Description</h3>
<p>This is a two-player game. The player and the system get alternative chances to mark their move on the 3x3 grid provided. One who marks 3 linearly oriented squares first, wins the game. If none of the players can do this, the game ends to be a draw. The system&apos;s move is marked with a circle and the player&apos;s with a cross.</p>
<p><strong>Playstore Link:</strong> <a href="https://play.google.com/store/apps/details?id=com.pinkpointer.tictactoe&amp;hl=en" target="_blank">Tic Tac Toe</a></p>
<p><img src="../Images/tttps.png" alt="Playstore"> 
<img src="../Images/tttim.png" alt="Image"></p>
<p><strong>Difficulty level</strong>: Moderate</p>
<p>You can see a demo video of the working of this game at the following link: <a href="https://youtu.be/Pf9bY_4C6gE" target="_blank">https://youtu.be/Pf9bY_4C6gE</a></p>
<div class="row" style="text-align:center;">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/Pf9bY_4C6gE" frameborder="0" allowfullscreen></iframe>
</div> 

<h3 id="overview">Overview</h3>
<p>The player starts at center point and the system&apos;s move is identified using image processing. We are calculating intersecting points for blank, O and X for each one of Nine Cell. The next move is calculated by the MinMax algorithm and is marked in the concerned box using ADB Tool. This continues as the algorithm tries to win the game in the best way possible</p>
<h3 id="requirements">Requirements</h3>
<ul>
<li>Computer with MATLAB, ADB Tool and required drivers set up.</li>
<li>An Android Device with the &apos;Tic Tac Toe&apos; game installed on it. (Turn on the Developer options for better visualization)</li>
<li>USB data transfer cable</li>
</ul>
<h3 id="block-diagram">Block Diagram</h3>
<p><img src="../Images/BlockDiagram.png" alt="BlockDiagram"></p>
<h3 id="tutorial">Tutorial</h3>
<p>Here&apos;s the step-wise tutorial to automate the game.</p>
<h4 id="step-1-using-adb-tool-to-capture-screenshot">Step 1: Using ADB Tool to capture screenshot</h4>
<p>The following command instantaneously takes the screenshot of the connected device and stores it in the SD card following the specified path.</p>
<pre><code class="lang-MATLAB">system(<span class="hljs-string">&apos;adb shell screencap -p /sdcard/screen.png&apos;</span>);
</code></pre>
<p>The following command pulls it from the SD card of the android device into the working system following the path specified</p>
<pre><code class="lang-MATLAB">system(<span class="hljs-string">&apos;adb pull /sdcard/screen.png&apos;</span>);
</code></pre>
<p>The pulled image is stored in the form of a matrix of pixel values by the MATLAB.</p>
<h4 id="step-2-image-processing">Step 2: Image processing</h4>
<p>Once the screenshot is obtained, nine different points in the 9 boxes are chosen and processed as blank, O or X. For this game blank cell Red color value is - 255 (RGB) , O&apos;s cell R value is - 105 and X&apos;s cell R value is - 248.</p>
<p>Depending on this information, we create a matrix 3x3 where 0 represents blank, 1 represents system&apos;s move and 2 represents the player&apos;s move.</p>
<p>Now, we convert this in the form of a string with 0, 1 and 2&apos;s of length 9 and send it to the next step.</p>
<h4 id="step-3-algorithm">Step 3: Algorithm</h4>
<p>Minmax is a decision rule used in decision theory, game theory, statistics and philosophy for minimizing the possible loss for a worst case (maximum loss) scenario. </p>
<p>Originally formulated for two-player zero-sum game theory, covering both the cases where players take alternate moves and those where they make simultaneous moves, it has also been extended to more complex games and to general decision-making in the presence of uncertainty.</p>
<p>Matlab calls the python script with command line argument of input string which returns the best move. If game overs it returns 9. The python code can be executed from MATLAB using the following commands.</p>
<pre><code class="lang-MATLAB"><span class="hljs-comment">% inputstr is the string of 0s, 1s and 2s of length 9</span>
<span class="hljs-matrix">[status, result]</span> = system(<span class="hljs-matrix">[<span class="hljs-string">&apos;python tictac.py &apos;</span> inputstr]</span>);
</code></pre>
<p>The algorithm implemented in Python is shown below.</p>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">maximized_move</span><span class="hljs-params">(self,game)</span>:</span>
        <span class="hljs-string">&apos;&apos;&apos; Find maximized move&apos;&apos;&apos;</span>    
        bestscore = <span class="hljs-keyword">None</span>
        bestmove = <span class="hljs-keyword">None</span>

        <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> game.free_positions():
            game.mark(self.marker,m)

            <span class="hljs-keyword">if</span> game.is_gameover():
                score = self.get_score(game)
            <span class="hljs-keyword">else</span>:
                move_position,score = self.minimized_move(game)

            game.revert_last_move()

            <span class="hljs-keyword">if</span> bestscore == <span class="hljs-keyword">None</span> <span class="hljs-keyword">or</span> score &gt; bestscore:
                bestscore = score
                bestmove = m

        <span class="hljs-keyword">return</span> bestmove, bestscore

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">minimized_move</span><span class="hljs-params">(self,game)</span>:</span>
        bestscore = <span class="hljs-keyword">None</span>
        bestmove = <span class="hljs-keyword">None</span>
        <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> game.free_positions():
            game.mark(self.op_mark,m)

            <span class="hljs-keyword">if</span> game.is_gameover():
                score = self.get_score(game)
            <span class="hljs-keyword">else</span>:
                move_position,score = self.maximized_move(game)

            game.revert_last_move()

            <span class="hljs-keyword">if</span> bestscore == <span class="hljs-keyword">None</span> <span class="hljs-keyword">or</span> score &lt; bestscore:
                bestscore = score
                bestmove = m

        <span class="hljs-keyword">return</span> bestmove, bestscore
</code></pre>
<h4 id="step-4-using-adb-tool-to-simulate-touch">Step 4: Using ADB Tool to simulate touch</h4>
<p>From the result of algorithm tap position is calculated.</p>
<p>The following command taps at the point on the screen with the co-ordinates mentioned as (x, y). This is used to simulate touch at the appropriate points where we want to make a move.</p>
<pre><code class="lang-MATLAB">system(<span class="hljs-string">&apos; adb shell input tap x y &apos;</span>);
</code></pre>
<h3 id="conclusions">Conclusions</h3>
<p>This way, the player which is automated by the computer using our algorithm almost always wins the game.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../Examples/3d_bowling.html" class="navigation navigation-prev " aria-label="Previous page: 3D Bowling"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../Examples/find_the_difference.html" class="navigation navigation-next " aria-label="Next page: Find The Difference"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"ga":{"token":"UA-74194055-1","configuration":"auto"},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
